<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Classroom AI â€” Project Documentation Â· KSEF 2026</title>
  <meta name="description" content="Full documentation for the Classroom AI project by Maryhill Girls High School, Kenya Science and Engineering Fair 2026.">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --navy:  #060c1a; --navy2: #0d1628; --navy3: #131e35;
      --blue:  #1d4ed8; --cyan:  #06b6d4; --gold:  #f59e0b;
      --green: #10b981; --red:   #ef4444; --purple:#8b5cf6;
      --text:  #f1f5f9; --muted: #94a3b8; --dim:   #475569;
      --border:rgba(255,255,255,0.08);
      --card:  rgba(255,255,255,0.04);
      --r:14px; --r-sm:8px; --r-full:9999px;
      --font-h:'Space Grotesk',sans-serif;
      --font-b:'Inter',sans-serif;
      --font-c:'JetBrains Mono',monospace;
      --t:0.25s ease;
      --sidebar-w: 280px;
      --topbar-h:  64px;
    }

    html { scroll-behavior: smooth; }
    body { font-family: var(--font-b); background: var(--navy); color: var(--text); line-height: 1.65; overflow-x: hidden; }
    a { text-decoration: none; color: inherit; }
    img { display: block; max-width: 100%; }

    /* â”€â”€ SITE HEADER â”€â”€ */
    .site-header {
      position: sticky; top: 0; z-index: 300;
      background: rgba(6,12,26,0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      height: var(--topbar-h);
    }

    .site-header-inner {
      max-width: 1440px; margin: 0 auto;
      padding: 0 24px;
      height: 100%;
      display: flex; align-items: center; gap: 20px;
    }

    .back-btn {
      display: flex; align-items: center; gap: 8px;
      font-size: 0.85rem; color: var(--muted); font-weight: 500;
      padding: 7px 14px; border-radius: var(--r-sm);
      border: 1px solid var(--border);
      background: var(--card);
      transition: all var(--t);
    }
    .back-btn:hover { color: var(--text); border-color: rgba(255,255,255,0.15); }

    .site-header-brand {
      display: flex; align-items: center; gap: 10px; flex: 1; justify-content: center;
    }
    .site-header-brand img { height: 32px; }
    .site-header-brand-name {
      font-family: var(--font-h); font-size: 0.95rem; font-weight: 700;
      display: none;
    }

    .doc-actions {
      display: flex; align-items: center; gap: 10px;
    }

    .btn {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 9px 18px; border-radius: var(--r-sm);
      font-size: 0.85rem; font-weight: 600;
      font-family: var(--font-b); transition: all var(--t);
      cursor: pointer; border: 1px solid transparent;
    }
    .btn-primary { background: linear-gradient(135deg,var(--blue),#2563eb); color:white; }
    .btn-primary:hover { transform:translateY(-1px); box-shadow:0 6px 24px rgba(29,78,216,0.4); }
    .btn-ghost { background:var(--card); color:var(--muted); border-color:var(--border); }
    .btn-ghost:hover { color:var(--text); border-color:rgba(255,255,255,0.15); }

    /* â”€â”€ DOC LAYOUT â”€â”€ */
    .doc-layout {
      display: flex;
      max-width: 1440px;
      margin: 0 auto;
      min-height: calc(100vh - var(--topbar-h));
    }

    /* Left sidebar TOC */
    .doc-sidebar {
      width: var(--sidebar-w);
      flex-shrink: 0;
      position: sticky;
      top: var(--topbar-h);
      height: calc(100vh - var(--topbar-h));
      overflow-y: auto;
      border-right: 1px solid var(--border);
      padding: 28px 20px;
      background: var(--navy2);
    }

    .toc-title {
      font-size: 0.7rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: 0.1em;
      color: var(--dim); margin-bottom: 16px;
    }

    .toc-section { margin-bottom: 20px; }
    .toc-section-label {
      font-size: 0.75rem; font-weight: 600;
      color: var(--muted); text-transform: uppercase;
      letter-spacing: 0.07em; margin-bottom: 8px; padding: 0 8px;
    }

    .toc-link {
      display: block;
      padding: 8px 12px;
      border-radius: var(--r-sm);
      font-size: 0.85rem;
      color: var(--muted);
      transition: all var(--t);
      border-left: 2px solid transparent;
    }
    .toc-link:hover { color: var(--text); background: var(--card); }
    .toc-link.active { color: var(--cyan); border-left-color: var(--cyan); background: rgba(6,182,212,0.08); }
    .toc-link.sub { padding-left: 24px; font-size: 0.82rem; }

    /* Main doc content */
    .doc-main {
      flex: 1;
      min-width: 0;
      padding: 48px 60px 80px;
    }

    /* Right aside â€” meta info */
    .doc-meta-aside {
      width: 260px;
      flex-shrink: 0;
      padding: 28px 20px;
      position: sticky;
      top: var(--topbar-h);
      height: calc(100vh - var(--topbar-h));
      overflow-y: auto;
      border-left: 1px solid var(--border);
    }

    /* â”€â”€ DOC CONTENT STYLES â”€â”€ */
    .doc-hero {
      margin-bottom: 48px;
      padding-bottom: 40px;
      border-bottom: 1px solid var(--border);
    }

    .doc-breadcrumb {
      display: flex; align-items: center; gap: 8px;
      font-size: 0.8rem; color: var(--dim);
      margin-bottom: 20px;
    }
    .doc-breadcrumb a { color: var(--muted); transition: color var(--t); }
    .doc-breadcrumb a:hover { color: var(--text); }
    .doc-breadcrumb i { font-size: 0.65rem; }

    .doc-badges {
      display: flex; flex-wrap: wrap; gap: 8px;
      margin-bottom: 20px;
    }

    .doc-badge {
      padding: 4px 12px; border-radius: var(--r-full);
      font-size: 0.72rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: 0.06em;
    }

    .doc-badge.blue  { background:rgba(29,78,216,0.15); border:1px solid rgba(29,78,216,0.3); color:#93c5fd; }
    .doc-badge.gold  { background:rgba(245,158,11,0.15); border:1px solid rgba(245,158,11,0.3); color:#fcd34d; }
    .doc-badge.cyan  { background:rgba(6,182,212,0.15); border:1px solid rgba(6,182,212,0.3); color:#67e8f9; }
    .doc-badge.green { background:rgba(16,185,129,0.15); border:1px solid rgba(16,185,129,0.3); color:#34d399; }

    .doc-h1 {
      font-family: var(--font-h);
      font-size: clamp(1.8rem,4vw,2.8rem);
      font-weight: 700; line-height: 1.1;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #f1f5f9 30%, var(--cyan));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
    }

    .doc-lead {
      font-size: 1.05rem; color: var(--muted);
      line-height: 1.7; max-width: 680px;
      margin-bottom: 24px;
    }

    .doc-hero-img {
      border-radius: var(--r); overflow: hidden;
      border: 1px solid var(--border);
      aspect-ratio: 16/7; position: relative;
    }

    .doc-hero-img img { width:100%; height:100%; object-fit: cover; }

    .doc-hero-img-caption {
      position: absolute; bottom: 0; left: 0; right: 0;
      background: linear-gradient(transparent, rgba(6,12,26,0.85));
      padding: 24px 20px 16px;
      font-size: 0.8rem; color: var(--muted);
    }

    /* Section headings */
    .doc-section { margin-bottom: 56px; scroll-margin-top: 88px; }

    h2.doc-h2 {
      font-family: var(--font-h);
      font-size: 1.5rem; font-weight: 700;
      margin-bottom: 16px;
      display: flex; align-items: center; gap: 10px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    h2.doc-h2 i { color: var(--cyan); font-size: 1.1rem; }

    h3.doc-h3 {
      font-family: var(--font-h);
      font-size: 1.1rem; font-weight: 600;
      margin: 24px 0 12px;
      color: var(--text);
    }

    p.doc-p {
      color: var(--muted); line-height: 1.75;
      margin-bottom: 16px; font-size: 0.95rem;
    }

    /* Info boxes */
    .info-box {
      border-radius: var(--r-sm);
      padding: 16px 18px;
      font-size: 0.88rem;
      line-height: 1.65;
      margin: 20px 0;
      display: flex; gap: 12px; align-items: flex-start;
    }
    .info-box i { margin-top: 2px; flex-shrink: 0; }
    .info-box.note   { background:rgba(59,130,246,0.1); border:1px solid rgba(59,130,246,0.25); color:#93c5fd; }
    .info-box.warn   { background:rgba(245,158,11,0.1); border:1px solid rgba(245,158,11,0.25); color:#fcd34d; }
    .info-box.success{ background:rgba(16,185,129,0.1); border:1px solid rgba(16,185,129,0.25); color:#34d399; }
    .info-box.danger { background:rgba(239,68,68,0.1);  border:1px solid rgba(239,68,68,0.25);  color:#fca5a5; }

    /* Code block */
    .code-block {
      background: #0a0f1e;
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--r-sm);
      padding: 20px 22px;
      font-family: var(--font-c);
      font-size: 0.84rem;
      color: #a5f3fc;
      overflow-x: auto;
      margin: 16px 0;
      position: relative;
    }
    .code-block .comment { color: #475569; }
    .code-block .keyword { color: #818cf8; }
    .code-block .string  { color: #a5f3fc; }
    .code-block .fn      { color: #34d399; }

    .code-label {
      position: absolute; top: 12px; right: 14px;
      font-size: 0.7rem; font-weight: 600;
      color: var(--dim); font-family: var(--font-b);
      text-transform: uppercase; letter-spacing: 0.06em;
    }

    /* Behaviour table */
    .doc-table {
      width: 100%; border-collapse: collapse;
      font-size: 0.88rem; margin: 16px 0;
    }
    .doc-table th {
      text-align: left; padding: 10px 16px;
      font-size: 0.75rem; font-weight: 600;
      color: var(--dim); text-transform: uppercase;
      letter-spacing: 0.06em;
      border-bottom: 1px solid var(--border);
    }
    .doc-table td {
      padding: 13px 16px; border-bottom: 1px solid rgba(255,255,255,0.04);
      color: var(--muted); vertical-align: middle;
    }
    .doc-table tr:hover td { background: var(--card); }

    /* Feature cards */
    .feature-grid {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 16px; margin: 20px 0;
    }

    .feature-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--r-sm);
      padding: 18px;
    }

    .feature-card-icon { font-size: 1.4rem; margin-bottom: 10px; }
    .feature-card-title {
      font-family: var(--font-h); font-size: 0.92rem;
      font-weight: 700; margin-bottom: 6px;
    }
    .feature-card-text { font-size: 0.82rem; color: var(--muted); line-height: 1.6; }

    /* Steps */
    .steps { display: flex; flex-direction: column; gap: 16px; margin: 20px 0; }

    .step {
      display: flex; gap: 16px;
      background: var(--card); border: 1px solid var(--border);
      border-radius: var(--r-sm); padding: 18px;
    }

    .step-num {
      width: 36px; height: 36px; border-radius: 50%;
      background: linear-gradient(135deg, var(--blue), var(--cyan));
      color: white; font-family: var(--font-h);
      font-size: 0.9rem; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
    }

    .step-title { font-family: var(--font-h); font-size: 0.95rem; font-weight: 700; margin-bottom: 4px; }
    .step-text  { font-size: 0.85rem; color: var(--muted); line-height: 1.6; }

    /* Meta aside */
    .meta-card {
      background: var(--card); border: 1px solid var(--border);
      border-radius: var(--r-sm); padding: 18px;
      margin-bottom: 16px;
    }

    .meta-card-title {
      font-size: 0.7rem; font-weight: 700;
      text-transform: uppercase; letter-spacing: 0.08em;
      color: var(--dim); margin-bottom: 14px;
    }

    .meta-row {
      display: flex; justify-content: space-between; align-items: center;
      padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04);
      font-size: 0.82rem;
    }
    .meta-row:last-child { border-bottom: none; }
    .meta-row-label { color: var(--muted); }
    .meta-row-val { color: var(--text); font-weight: 600; text-align: right; }

    /* Tag */
    .tag {
      display: inline-block; padding: 3px 10px;
      background: rgba(255,255,255,0.06);
      border: 1px solid var(--border);
      border-radius: var(--r-full);
      font-size: 0.72rem; color: var(--muted);
      margin: 2px;
    }

    /* Footer */
    .doc-footer {
      background: var(--navy2);
      border-top: 1px solid var(--border);
      padding: 32px 24px;
      text-align: center;
      font-size: 0.82rem; color: var(--dim);
    }

    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius:10px; }

    /* Responsive */
    @media (max-width: 1200px) {
      .doc-meta-aside { display: none; }
      .doc-main { padding: 36px 40px 60px; }
    }
    @media (max-width: 900px) {
      .doc-sidebar { display: none; }
    }
    @media (max-width: 700px) {
      .doc-main { padding: 24px 20px 48px; }
      .feature-grid { grid-template-columns: 1fr; }
      .site-header-brand-name { display: none; }
    }
  </style>
</head>
<body>

<!-- â”€â”€ SITE HEADER â”€â”€ -->
<header class="site-header" id="site-header">
  <div class="site-header-inner">
    <a href="index.html" class="back-btn">
      <i class="fas fa-arrow-left"></i> All Projects
    </a>
    <div class="site-header-brand">
      <img src="assets/img/kseflogo.png" alt="KSEF">
      <span class="site-header-brand-name">KSEF 2026 â€” Documentation</span>
    </div>
    <div class="doc-actions">
      <a href="https://classroomai.ksefproject.com" target="_blank" class="btn btn-primary">
        <i class="fas fa-external-link-alt"></i> Open Live App
      </a>
    </div>
  </div>
</header>

<!-- â”€â”€ LAYOUT â”€â”€ -->
<div class="doc-layout">

  <!-- LEFT SIDEBAR â€” Table of Contents -->
  <aside class="doc-sidebar" id="docSidebar">
    <div class="toc-title">Table of Contents</div>

    <div class="toc-section">
      <div class="toc-section-label">Overview</div>
      <a href="#overview"     class="toc-link active">Introduction</a>
      <a href="#motivation"   class="toc-link">Motivation</a>
      <a href="#objectives"   class="toc-link">Objectives</a>
    </div>

    <div class="toc-section">
      <div class="toc-section-label">Technology</div>
      <a href="#tech-stack"   class="toc-link">Tech Stack</a>
      <a href="#ai-model"     class="toc-link">AI Model</a>
      <a href="#behaviours"   class="toc-link">Behaviour Classes</a>
    </div>

    <div class="toc-section">
      <div class="toc-section-label">Features</div>
      <a href="#features"     class="toc-link">System Features</a>
      <a href="#live-camera"  class="toc-link sub">Live Camera</a>
      <a href="#video-upload" class="toc-link sub">Video Analysis</a>
      <a href="#dashboard"    class="toc-link sub">Dashboard</a>
      <a href="#statistics"   class="toc-link sub">Statistics</a>
    </div>

    <div class="toc-section">
      <div class="toc-section-label">Usage</div>
      <a href="#getting-started" class="toc-link">Getting Started</a>
      <a href="#requirements"    class="toc-link">Requirements</a>
    </div>

    <div class="toc-section">
      <div class="toc-section-label">Research</div>
      <a href="#methodology"  class="toc-link">Methodology</a>
      <a href="#findings"     class="toc-link">Findings</a>
      <a href="#limitations"  class="toc-link">Limitations</a>
    </div>

    <div class="toc-section">
      <div class="toc-section-label">Team</div>
      <a href="#team"         class="toc-link">About the Team</a>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="doc-main" id="docMain">

    <!-- HERO -->
    <div class="doc-hero" id="overview">
      <nav class="doc-breadcrumb">
        <a href="index.html">KSEF 2026</a>
        <i class="fas fa-chevron-right"></i>
        <a href="#overview">AI &amp; Technology</a>
        <i class="fas fa-chevron-right"></i>
        <span style="color:var(--muted);">Classroom AI</span>
      </nav>
      <div class="doc-badges">
        <span class="doc-badge blue"><i class="fas fa-microchip" style="margin-right:5px;"></i>AI &amp; Technology</span>
        <span class="doc-badge gold"><i class="fas fa-star" style="margin-right:5px;"></i>62nd KSEF 2026</span>
        <span class="doc-badge cyan">Behavioural Science</span>
        <span class="doc-badge green">In-Browser AI</span>
      </div>
      <h1 class="doc-h1">Classroom AI:<br>Real-Time Behavioural Science</h1>
      <p class="doc-lead">An in-browser artificial intelligence system that uses facial expression recognition and head-pose estimation to classify and monitor student behaviour in real time â€” with no external servers, no privacy concerns, and no specialist hardware beyond a standard webcam.</p>

      <div class="doc-hero-img">
        <img src="assets/img/classroom-ai.jpg" alt="Students in a Kenyan classroom â€” the environment Classroom AI is designed for">
        <div class="doc-hero-img-caption">
          <i class="fas fa-camera" style="margin-right:6px;"></i>A typical Kenyan secondary school classroom â€” the primary research environment for this project.
        </div>
      </div>
    </div>

    <!-- MOTIVATION -->
    <section class="doc-section" id="motivation">
      <h2 class="doc-h2"><i class="fas fa-lightbulb"></i> Motivation</h2>
      <p class="doc-p">In Kenyan secondary schools, classroom management and student engagement monitoring are almost entirely manualâ€”relying on a teacher's subjective judgment of who is paying attention. With an average of 40â€“60 students per class, it is practically impossible for one teacher to track individual engagement levels in real time.</p>
      <p class="doc-p">Disengagement, anxiety, confusion, and disruptive behaviour often go unnoticed until they manifest as poor academic performance. Identifying these states earlyâ€”objectively and systematicallyâ€”could allow teachers to intervene proactively, adapt their teaching style, and create a more effective learning environment.</p>
      <div class="info-box note">
        <i class="fas fa-info-circle"></i>
        <span>This project does not replace teacher judgment. It is positioned as a <strong>diagnostic support tool</strong> that provides a second layer of data-driven insight to help teachers understand classroom dynamics.</span>
      </div>
    </section>

    <!-- OBJECTIVES -->
    <section class="doc-section" id="objectives">
      <h2 class="doc-h2"><i class="fas fa-bullseye"></i> Objectives</h2>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div>
            <div class="step-title">Real-Time Face Detection</div>
            <p class="step-text">Detect all faces in a live webcam or uploaded video feed simultaneously, with low latency, entirely within the browser using WebGL-accelerated machine learning.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div>
            <div class="step-title">Behaviour Classification</div>
            <p class="step-text">Map detected facial expressions and head-pose angles to a set of meaningful, educationally relevant behavioural labels: Attentive, Engaged, Alert, Disengaged, Anxious, Confused, Disruptive, and Suspicious.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div>
            <div class="step-title">Visual Overlay</div>
            <p class="step-text">Draw colour-coded bounding boxes with labelled behaviour badges on the live video canvas so a teacher can see the AI's assessment at a glance.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div>
            <div class="step-title">Session Analytics</div>
            <p class="step-text">Aggregate behaviour data across a session and present it as actionable statisticsâ€”attention percentage, alert count, behaviour distributionâ€”for post-lesson review.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">5</div>
          <div>
            <div class="step-title">Privacy-First Design</div>
            <p class="step-text">All processing happens on-device. No video, images, or biometric data ever leave the user's browser. There is no external AI server call.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- TECH STACK -->
    <section class="doc-section" id="tech-stack">
      <h2 class="doc-h2"><i class="fas fa-layer-group"></i> Technology Stack</h2>

      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-card-icon">ðŸ¤–</div>
          <div class="feature-card-title">face-api.js</div>
          <p class="feature-card-text">TinyFaceDetector + FaceLandmark68TinyNet + FaceExpressionNet â€” three lightweight neural networks running entirely in the browser via WebGL.</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon">ðŸ“Š</div>
          <div class="feature-card-title">Chart.js</div>
          <p class="feature-card-text">Engagement trend line charts and behaviour distribution doughnut charts on the Statistics page, powered by the Chart.js v4 library.</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon">ðŸŽ¨</div>
          <div class="feature-card-title">Vanilla CSS Design System</div>
          <p class="feature-card-text">Custom dark-theme CSS with CSS custom properties (design tokens), glassmorphism cards, and responsive grid layouts. No CSS framework dependency.</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon">ðŸ”Š</div>
          <div class="feature-card-title">Web Audio API</div>
          <p class="feature-card-text">Real-time ambient noise level monitoring via <code>AudioContext</code> and <code>AnalyserNode</code>, displayed as a live noise meter during camera sessions.</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon">ðŸ’¾</div>
          <div class="feature-card-title">localStorage + PHP API</div>
          <p class="feature-card-text">Session results are stored in browser <code>localStorage</code> for instant access, and optionally synced to a flat-file PHP backend (<code>sessions.json</code>, <code>config.json</code>).</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon">ðŸ“·</div>
          <div class="feature-card-title">getUserMedia API</div>
          <p class="feature-card-text">Standard browser API for accessing the device camera and microphone. Requires <code>localhost</code> or HTTPS â€” no special permissions setup beyond the browser prompt.</p>
        </div>
      </div>
    </section>

    <!-- AI MODEL -->
    <section class="doc-section" id="ai-model">
      <h2 class="doc-h2"><i class="fas fa-brain"></i> AI Model</h2>
      <p class="doc-p">The project uses <strong>face-api.js</strong> â€” a JavaScript API built on top of TensorFlow.js that provides pre-trained models for face detection, landmark estimation, and expression recognition, all running in the browser.</p>

      <h3 class="doc-h3">Model Pipeline</h3>
      <div class="steps">
        <div class="step">
          <div class="step-num">â†’</div>
          <div>
            <div class="step-title">TinyFaceDetector</div>
            <p class="step-text">Detects all face bounding boxes in the video frame. Uses a small YOLO-like convolutional network (~190KB), operating on a resized 320px input for speed. Threshold: 0.5 confidence.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">â†’</div>
          <div>
            <div class="step-title">FaceLandmark68TinyNet</div>
            <p class="step-text">Predicts 68 facial landmark points for each detected face. Used to estimate head-pose (gaze direction) by comparing nose-tip position relative to the horizontal face centre â€” if the ratio exceeds Â±28%, the student is classified as Suspicious (looking sideways).</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">â†’</div>
          <div>
            <div class="step-title">FaceExpressionNet</div>
            <p class="step-text">Predicts probability scores across 7 expression classes: neutral, happy, sad, angry, fearful, disgusted, surprised. The dominant expression maps to a classroom behaviour label.</p>
          </div>
        </div>
      </div>

      <div class="info-box success">
        <i class="fas fa-check-circle"></i>
        <span>Model weights (~7MB total) are loaded from the jsDelivr CDN on first use and cached by the browser thereafter. Subsequent page loads are instant.</span>
      </div>

      <div class="code-block">
        <span class="code-label">JavaScript</span>
<span class="comment">// Detection pipeline â€” runs every 400ms</span>
<span class="keyword">const</span> detections = <span class="keyword">await</span> faceapi
  .<span class="fn">detectAllFaces</span>(videoEl, <span class="keyword">new</span> faceapi.<span class="fn">TinyFaceDetectorOptions</span>({
    inputSize: <span class="string">320</span>, scoreThreshold: <span class="string">0.5</span>
  }))
  .<span class="fn">withFaceLandmarks</span>(<span class="keyword">true</span>)   <span class="comment">// lightweight 68-point model</span>
  .<span class="fn">withFaceExpressions</span>();        <span class="comment">// 7-class softmax output</span>
      </div>
    </section>

    <!-- BEHAVIOUR CLASSES -->
    <section class="doc-section" id="behaviours">
      <h2 class="doc-h2"><i class="fas fa-tags"></i> Behaviour Classification Table</h2>
      <p class="doc-p">Each detected face is assigned exactly one behaviour label for each detection frame, based on the highest-probability expression and head-pose heuristics.</p>

      <table class="doc-table">
        <thead>
          <tr>
            <th>Icon</th><th>Behaviour</th><th>Source Expression</th><th>Colour</th><th>Severity</th><th>Educational Meaning</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>âœ“</td><td><strong>Attentive</strong></td><td>Neutral</td><td style="color:#10b981;">Green</td><td>Low</td><td>Student is calm and focused; likely processing information.</td></tr>
          <tr><td>â˜…</td><td><strong>Engaged</strong></td><td>Happy</td><td style="color:#06b6d4;">Cyan</td><td>Low</td><td>Student is positively engaged; showing interest and enjoyment.</td></tr>
          <tr><td>!</td><td><strong>Alert</strong></td><td>Surprised</td><td style="color:#3b82f6;">Blue</td><td>Medium</td><td>Student is suddenly alert â€” possibly surprised by content.</td></tr>
          <tr><td>âˆ’</td><td><strong>Disengaged</strong></td><td>Sad</td><td style="color:#f59e0b;">Amber</td><td>Medium</td><td>Student appears withdrawn or uninvolved. Teacher should check in.</td></tr>
          <tr><td>âš </td><td><strong>Anxious</strong></td><td>Fearful</td><td style="color:#f97316;">Orange</td><td>Medium</td><td>Student may be stressed or fearful â€” test anxiety or confusion.</td></tr>
          <tr><td>âœ—</td><td><strong>Disruptive</strong></td><td>Angry</td><td style="color:#ef4444;">Red</td><td>High</td><td>Student shows frustration or hostility. Warrants immediate attention.</td></tr>
          <tr><td>?</td><td><strong>Confused</strong></td><td>Disgusted</td><td style="color:#8b5cf6;">Purple</td><td>Medium</td><td>Student appears to not understand â€” teacher may need to rephrase.</td></tr>
          <tr><td>ðŸ‘€</td><td><strong>Suspicious</strong></td><td>Head turned &gt;28%</td><td style="color:#ef4444;">Red</td><td>High</td><td>Student is looking sideways â€” possible copying or distraction.</td></tr>
        </tbody>
      </table>

      <div class="info-box warn">
        <i class="fas fa-exclamation-triangle"></i>
        <span>These classifications are heuristic approximations. Facial expressions vary significantly across individuals and cultures. Always treat AI output as a starting point, not a definitive judgment.</span>
      </div>
    </section>

    <!-- FEATURES -->
    <section class="doc-section" id="features">
      <h2 class="doc-h2"><i class="fas fa-star"></i> System Features</h2>
      <p class="doc-p">The Classroom AI system consists of five main pages, each serving a distinct function in the monitoring workflow.</p>
    </section>

    <section class="doc-section" id="live-camera" style="margin-top:-20px;">
      <h3 class="doc-h3"><i class="fas fa-video" style="color:var(--cyan);margin-right:8px;"></i>Live Camera Monitor</h3>
      <p class="doc-p">The core feature of the system. Upon clicking <em>Start Camera</em>, the browser requests camera and microphone access, loads the AI models, and begins a continuous detection loop running every 400ms (configurable).</p>
      <p class="doc-p">For each frame: faces are detected, expressions classified, behaviours assigned, and coloured bounding boxes drawn on a transparent canvas overlaid on the video. A live event log records every behaviour transition. A real-time noise meter (via Web Audio API) shows ambient sound levels.</p>
    </section>

    <section class="doc-section" id="video-upload" style="margin-top:-20px;">
      <h3 class="doc-h3"><i class="fas fa-film" style="color:var(--cyan);margin-right:8px;"></i>Video Upload Analysis</h3>
      <p class="doc-p">Teachers can upload a recorded classroom video (MP4, WebM, MOV) and press <em>Analyse</em>. The system plays the video and runs AI analysis at 600ms intervals, creating the same overlay and event log as live mode. When the video ends (or is stopped), a summary report is shown â€” average attention, dominant behaviour, and alert count â€” and the session is saved.</p>
    </section>

    <section class="doc-section" id="dashboard" style="margin-top:-20px;">
      <h3 class="doc-h3"><i class="fas fa-chart-pie" style="color:var(--cyan);margin-right:8px;"></i>Dashboard</h3>
      <p class="doc-p">The dashboard aggregates data from the most recent session â€” students detected, average attention percentage, alert count, session duration â€” and displays a behaviour breakdown with progress bars for each category. Quick-launch cards link directly to the camera, upload, and statistics pages.</p>
    </section>

    <section class="doc-section" id="statistics" style="margin-top:-20px;">
      <h3 class="doc-h3"><i class="fas fa-chart-line" style="color:var(--cyan);margin-right:8px;"></i>Statistics</h3>
      <p class="doc-p">The statistics page charts engagement trend over time (line chart) and the aggregate behaviour distribution across all sessions (doughnut chart). A full session history table lists every session with date, type (camera/video), student count, average attention, alerts, and duration. Session data can be exported as JSON.</p>
    </section>

    <!-- GETTING STARTED -->
    <section class="doc-section" id="getting-started">
      <h2 class="doc-h2"><i class="fas fa-play-circle"></i> Getting Started</h2>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div>
            <div class="step-title">Open the Application</div>
            <p class="step-text">Navigate to <strong>http://localhost/classroomai/</strong> (or the deployed URL). The entry splash page will appear with the KSEF logo and project details.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div>
            <div class="step-title">Enter the System</div>
            <p class="step-text">Click <strong>Enter System â†’</strong> to go to the Dashboard. No login required â€” the system is designed for immediate classroom use.</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div>
            <div class="step-title">Start a Camera Session</div>
            <p class="step-text">Navigate to <strong>Camera Monitor</strong> and click <strong>Start Camera</strong>. Grant browser camera permissions when prompted. AI models will load from CDN (~15 seconds on first load, cached thereafter).</p>
          </div>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <div>
            <div class="step-title">Monitor &amp; Review</div>
            <p class="step-text">Watch real-time bounding boxes and behaviour labels on the video feed. When done, click <strong>Stop &amp; Save</strong>. Visit the <strong>Dashboard</strong> and <strong>Statistics</strong> pages to review results.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- REQUIREMENTS -->
    <section class="doc-section" id="requirements">
      <h2 class="doc-h2"><i class="fas fa-laptop"></i> Requirements</h2>
      <table class="doc-table">
        <thead><tr><th>Requirement</th><th>Minimum</th><th>Recommended</th></tr></thead>
        <tbody>
          <tr><td>Browser</td><td>Chrome 90+, Edge 90+, Firefox 88+</td><td>Chrome 120+ (best WebGL support)</td></tr>
          <tr><td>Camera</td><td>Any 480p USB or built-in webcam</td><td>720p HD webcam</td></tr>
          <tr><td>Internet (first load)</td><td>Required (model download ~7MB)</td><td>Stable broadband</td></tr>
          <tr><td>Server (backend)</td><td>PHP 7.4+ (optional)</td><td>Laragon / XAMPP on localhost</td></tr>
          <tr><td>GPU</td><td>Not required (WebGL fallback to CPU)</td><td>Integrated GPU for 60fps overlay</td></tr>
          <tr><td>RAM</td><td>4GB</td><td>8GB+</td></tr>
        </tbody>
      </table>

      <div class="info-box warn">
        <i class="fas fa-exclamation-triangle"></i>
        <span>Camera access via <code>getUserMedia</code> requires either <code>localhost</code> or a HTTPS connection. Plain HTTP on a non-localhost domain will be blocked by the browser.</span>
      </div>
    </section>

    <!-- METHODOLOGY -->
    <section class="doc-section" id="methodology">
      <h2 class="doc-h2"><i class="fas fa-flask"></i> Research Methodology</h2>
      <p class="doc-p">The research was conducted in two phases: a <strong>desk study</strong> reviewing prior literature on facial action coding systems (FACS), affective computing in education, and AI ethics in school settings; and a <strong>prototype evaluation</strong> phase where the system was tested against video recordings of classroom sessions.</p>
      <p class="doc-p">The expression-to-behaviour mapping was informed by Paul Ekman's FACS framework and Charles Darwin's theory of universal facial expressions. The "Suspicious" detection via head-pose heuristics was designed based on observation studies of cheating patterns in examination environments.</p>
    </section>

    <!-- FINDINGS -->
    <section class="doc-section" id="findings">
      <h2 class="doc-h2"><i class="fas fa-chart-bar"></i> Key Findings</h2>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="feature-card-icon" style="color:var(--green);font-size:2rem;font-family:var(--font-h);font-weight:700;">87%</div>
          <div class="feature-card-title">Face Detection Rate</div>
          <p class="feature-card-text">In well-lit classroom environments, TinyFaceDetector successfully detected 87% of visible student faces per frame.</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon" style="color:var(--cyan);font-size:2rem;font-family:var(--font-h);font-weight:700;">400ms</div>
          <div class="feature-card-title">Detection Latency</div>
          <p class="feature-card-text">Average time between frames during live analysis on a mid-range laptop (Intel Core i5, integrated GPU).</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon" style="color:var(--gold);font-size:2rem;font-family:var(--font-h);font-weight:700;">73%</div>
          <div class="feature-card-title">Behaviour Accuracy</div>
          <p class="feature-card-text">Compared to manual teacher annotation on test video clips, the system agreed with teacher labels ~73% of the time for positive states (Attentive/Engaged).</p>
        </div>
        <div class="feature-card">
          <div class="feature-card-icon" style="color:var(--red);font-size:2rem;font-family:var(--font-h);font-weight:700;">0</div>
          <div class="feature-card-title">External Data Transfers</div>
          <p class="feature-card-text">Zero. All processing happens in-browser. No biometric data, images, or inference results leave the device.</p>
        </div>
      </div>
    </section>

    <!-- LIMITATIONS -->
    <section class="doc-section" id="limitations">
      <h2 class="doc-h2"><i class="fas fa-triangle-exclamation"></i> Limitations &amp; Future Work</h2>
      <p class="doc-p">As a student project, Classroom AI has several limitations that would need to be addressed in a production-grade system:</p>
      <ul style="color:var(--muted);font-size:0.92rem;line-height:1.8;padding-left:22px;margin-bottom:16px;">
        <li>Low-light environments significantly reduce face detection accuracy.</li>
        <li>Expression models are trained primarily on Western demographic datasets; performance may vary across African facial structures.</li>
        <li>The "Suspicious" head-pose heuristic produces false positives when students naturally turn to look at a blackboard or another student.</li>
        <li>No temporal smoothing â€” behaviour labels can flicker rapidly between states.</li>
        <li>No teacher authentication or multi-user session support.</li>
      </ul>
      <p class="doc-p"><strong>Future directions</strong> include: training a custom model on Kenyan classroom data, integrating gaze estimation for more accurate attention tracking, adding a teacher dashboard with class-level trend comparisons, and exploring deployment on school networks with a shared server.</p>
    </section>

    <!-- TEAM -->
    <section class="doc-section" id="team">
      <h2 class="doc-h2"><i class="fas fa-users"></i> About the Team</h2>
      <div class="feature-grid">
        <div class="feature-card" style="text-align:center;">
          <div style="width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--cyan));display:flex;align-items:center;justify-content:center;font-family:var(--font-h);font-size:1.4rem;font-weight:700;color:white;margin:0 auto 16px;">PL</div>
          <div class="feature-card-title">Precious Lydiah</div>
          <p class="feature-card-text">Lead researcher and front-end developer. Designed the AI detection pipeline and CSS design system.</p>
          <div style="margin-top:10px;"><span class="tag">AI/ML</span><span class="tag">Front-End</span><span class="tag">Research</span></div>
        </div>
        <div class="feature-card" style="text-align:center;">
          <div style="width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,var(--purple),var(--cyan));display:flex;align-items:center;justify-content:center;font-family:var(--font-h);font-size:1.4rem;font-weight:700;color:white;margin:0 auto 16px;">SW</div>
          <div class="feature-card-title">Shirleen Wambui</div>
          <p class="feature-card-text">Co-researcher and backend developer. Implemented the PHP API, statistics module, and conducted field testing.</p>
          <div style="margin-top:10px;"><span class="tag">Backend</span><span class="tag">Statistics</span><span class="tag">Testing</span></div>
        </div>
      </div>
      <div class="info-box note" style="margin-top:20px;">
        <i class="fas fa-school"></i>
        <span>Precious Lydiah and Shirleen Wambui are students at <strong>Maryhill Girls High School</strong>, Thika, Kenya. This project was submitted for the <strong>62nd Kenya Science and Engineering Fair (KSEF) 2026</strong> in the AI &amp; Technology category.</span>
      </div>
    </section>

  </main>

  <!-- RIGHT META ASIDE -->
  <aside class="doc-meta-aside">
    <div class="meta-card">
      <div class="meta-card-title">Project Info</div>
      <div class="meta-row"><span class="meta-row-label">Event</span><span class="meta-row-val">KSEF 2026</span></div>
      <div class="meta-row"><span class="meta-row-label">Edition</span><span class="meta-row-val">62nd</span></div>
      <div class="meta-row"><span class="meta-row-label">Category</span><span class="meta-row-val">AI &amp; Tech</span></div>
      <div class="meta-row"><span class="meta-row-label">School</span><span class="meta-row-val">Maryhill Girls</span></div>
      <div class="meta-row"><span class="meta-row-label">Year</span><span class="meta-row-val">2026</span></div>
    </div>

    <div class="meta-card">
      <div class="meta-card-title">Technical</div>
      <div class="meta-row"><span class="meta-row-label">AI Library</span><span class="meta-row-val">face-api.js</span></div>
      <div class="meta-row"><span class="meta-row-label">Backend</span><span class="meta-row-val">PHP + JSON</span></div>
      <div class="meta-row"><span class="meta-row-label">Frontend</span><span class="meta-row-val">HTML/CSS/JS</span></div>
      <div class="meta-row"><span class="meta-row-label">Charts</span><span class="meta-row-val">Chart.js</span></div>
      <div class="meta-row"><span class="meta-row-label">Models</span><span class="meta-row-val">~7MB CDN</span></div>
    </div>

    <div class="meta-card">
      <div class="meta-card-title">Quick Links</div>
      <a href="https://classroomai.ksefproject.com" target="_blank"
         style="display:flex;align-items:center;gap:8px;padding:10px 0;border-bottom:1px solid var(--border);font-size:0.85rem;color:var(--cyan);font-weight:600;transition:color var(--t);">
        <i class="fas fa-external-link-alt"></i> Live Application
      </a>
      <a href="index.html"
         style="display:flex;align-items:center;gap:8px;padding:10px 0;font-size:0.85rem;color:var(--muted);transition:color var(--t);">
        <i class="fas fa-arrow-left"></i> Back to Projects
      </a>
    </div>

    <div class="meta-card">
      <div class="meta-card-title">Tags</div>
      <div>
        <span class="tag">Machine Learning</span>
        <span class="tag">Education</span>
        <span class="tag">Face Detection</span>
        <span class="tag">Privacy</span>
        <span class="tag">Kenya</span>
        <span class="tag">Browser AI</span>
        <span class="tag">Behaviour</span>
        <span class="tag">KSEF</span>
      </div>
    </div>
  </aside>
</div>

<!-- FOOTER -->
<footer class="doc-footer">
  <p style="margin-bottom:6px;">
    <strong>Classroom AI</strong> â€” 62nd Kenya Science &amp; Engineering Fair Â· 2026
  </p>
  <p>Precious Lydiah &amp; Shirleen Wambui Â· Maryhill Girls High School Â· Thika, Kenya</p>
</footer>

<script>
  // Active TOC link on scroll
  const sections = document.querySelectorAll('[id]');
  const tocLinks  = document.querySelectorAll('.toc-link');
  let ticking = false;

  function updateTOC() {
    let current = '';
    sections.forEach(sec => {
      if (window.scrollY + 100 >= sec.offsetTop) current = sec.id;
    });
    tocLinks.forEach(link => {
      link.classList.toggle('active', link.getAttribute('href') === '#' + current);
    });
    ticking = false;
  }

  window.addEventListener('scroll', () => {
    if (!ticking) { requestAnimationFrame(updateTOC); ticking = true; }
  });

  // Sticky header shadow
  window.addEventListener('scroll', () => {
    document.getElementById('site-header').style.boxShadow =
      window.scrollY > 20 ? '0 4px 24px rgba(0,0,0,0.4)' : '';
  });
</script>
</body>
</html>
